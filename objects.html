<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta
            http-equiv="X-UA-Compatible"
            content="IE=edge"
        />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0"
        />
        <title>Objects</title>
    </head>
    <body>
        <script>
            // Object is a way to store your data, and to easily access it

            // Variables Example
            let bikeMake = 'Yamaha';
            let bikeColor = 'Blue';
            let bikeWheels = 2;

            // --> You create data for 1 bike

            // Using Objects

            let bike = {
                make: 'Yamaha',
                color: 'blue',
                wheels: 2,
            };

            // Objects can contain only 2 things
            // Properties (width, height) and Methods (onClick, onEnter, onHover)

            let car = {
                make: 'Yamaha',
                color: 'blue',
                wheels: 2,
                sound: function () {
                    console.log('vroooooom');
                },
            };

            // Access Properties and Methods on Objects
            // 2 Options DOT-NOTATION .propertyName ||| SQUARE-BRACKETS ['propertyName']

            console.log(bike.make);
            console.log(bike['color']);

            bike.sound();

            // set new properties on the object

            bike.type = 'Petrol';
            bike['year'] = 2019;

            // set new properties on the object

            bike.type = 'Petrol';
            bike['year'] = 2019;

            bike.model; // empty property as undefined
            console.log(bike.model);

            // Adding Properties to anything
            // Example I - Empty Object

            let empty = {};

            empty.a = 'hi';
            empty;

            // Example II - Empty Array

            let ampty = [];
            ampty.a = 'hi';
            ampty;

            // Example III - Empty Array

            let ompty = function () {};

            ompty.a = 'a';

            ompty;

            // Creating Object - other programming languages need a class to create an object
            // In JS, an object is a stand alone entity
            // 4 Ways to create an object

            // Example I || Object-Literal --> object initializer
            let fish = {
                name: 'Woofy',
                legs: 4,
            };

            console.log(fish);

            //you have to assign a key and a value, otherwise its an error
            let animal = {
                type: 'animal',
            };

            // An Object with 1 Method
            let welcomeMessage = {
                sayHi: function (text) {
                    console.log(text);
                },
            };

            welcomeMessage['sayHi']('Hello');
            welcomeMessage.sayHi('Hello');

            // A FUNCTION is outside of an OBJECT
            // A METHOD is inside of an OBJECT
            // --> but the same thing

            // Objects with properties and Methods

            let alien = {
                firstname: 'Yark',
                lastname: 'Smarg',
                age: 35,
                message: function () {
                    console.log(
                        `${this.firstname} is ${this.age} years old`
                    );
                },
            };

            alien.message();

            // Example II || Object-Constructor --> function that creates an Object
            // I || Define the Object
            // II || Call it with the NEW keyword
            // CONSTRUCTOR FUNCTIONS
            // Capital Letter --> Object cobnstructed via the constructor function
            function Motorbike(name, color) {
                this.name = name;
                this.color = color;
            }

            let myBike = new Motorbike('Yamaha', 'black');
            console.log(myBike);

            console.log(typeof myBike);

            // Difference between an Object-Constructor vs Object-Literal

            function Person() {}

            // vs literal

            let person = {};

            // With the Constructor function you can create mutliple instances
            // --> new keyword
            // literal Notation --> single object --> SINGLETON

            // Examples
            // constructor vs literal

            // I || Define Object via function keyword
            function Horse() {
                this.membershipStatus = false;
                this.name = 'Secretariat';
                this.talk = function () {
                    console.log(
                        `The membership status of ${this.name} is ${this.membershipStatus}`
                    );
                };
            }

            // Call, by instantiation

            let horse1 = new Horse();
            horse1.talk();

            let horse2 = new Horse();
            horse2.name = 'John';
            horse2.membershipStatus = true;

            // each horse will be UNIQUE

            horse2.talk();

            // ****** literal syntax approach

            let raven = {
                membershipStatus: false,
                name: 'Huginn',
                talk: function () {
                    console.log(
                        `The membership status of ${this.name} is ${this.membershipStatus}`
                    );
                },
            };

            raven.talk();

            // with the literal notation yyou are always dealing with the same object (singleton)
            let original = {
                name: 'original',
            };

            let clone = original;
            clone.name = 'clone';

            console.log(original);

            let camel = {}; // empty object
            empty;

            let dog = {
                name: 'Woofy',
                legs: 4,
            };

            // Second Option: JS inbuilt Object constructor

            let human = new Object(); // That object is a method built into JS itself --> Object-constructor
            console.log(typeof human);

            human.name = 'Jerry';
            human.age = 42;

            console.log(human);

            function Human(name, age) {
                this.name = name;
                this.age = age;
            }

            let human2 = new Human('Smithereens', 33);
            human2;

            console.log(dog);

            // RECAP I vs II

            // with a constructor function we can construct our object with parameters we pass into it

            function WebsiteUrl(url) {
                this.url = url;
                this.showUrl = function () {
                    console.log(this.url);
                };
            }

            let myWebsite = new WebsiteUrl('google.com');
            myWebsite.showUrl();

            // with an object-literal we don't have this amount of flexibility

            // same setup, with an object literal syntax way
            // with an object literal, you are unable to have a constructor, which mean you are unable
            // to initialize your object unless you add your own init function

            let website = {
                init: function (url) {
                    this.url = url;
                },
                showUrl: function () {
                    console.log(this.url);
                },
            };

            website.init('amazon.com');
            website.showUrl();

            // Example III || Object-Literal
            // Object.create() --> Prototype: skeleton object with some inherited properties

            function Kangaroo() {
                this.name = 'Jack';
            }

            let user = new Kangaroo();
            user.name;

            // Syntax: Object.create(prototype, properties) --> 1st paramater mandatory; 2nd para optional
            // Examples
            // Prototype has to be either an object or null
            let hound = Object.create(null);
            console.log(hound);

            hound.name = 'Fluffy';
            console.log(hound);

            // object
            elkProto = {
                woof: function () {
                    console.log(this.sound);
                },
            };

            let elk = Object.create(elkProto);
            elk.sound = 'Bruuuh';
            elk.woof();

            // passing values via parameter

            let cat = Object.create(elkProto, {
                sound: {
                    value: 'meow! MeoW!',
                },
            });

            cat.woof();

            // Recap - you have to pass an object or null as the prototype
            // Example 2: Employee

            let dogProto = {
                company: 'The Dog Factory',
            };

            let catProto = {
                company: 'The Cat Factory',
            };

            // create Employee
            let employee1 = Object.create(dogProto);
            employee1.name = 'Frank';

            let employee2 = Object.create(catProto);
            employee2.name = 'Julie';

            console.log(
                `${employee1.name} works for ${employee1.company}`
            );
            console.log(
                `${employee2.name} works for ${employee2.company}`
            );

            // Example IV || Object-Literal

            // Using Classes --> very common among other programming languages to create objects
            // --> Python, Java
            // Classes in JS are syntactic sugar --> no true classes, instead still prototypes

            function Elephant(fname, lname) {
                this.fname = fname;
                this.lname = lname;
                this.getName = function () {
                    console.log(
                        `${this.fname} ${this.lname}`
                    );
                };
            }

            let oliphant1 = new Elephant('Jack', 'Sparrow');
            console.log(oliphant1);
            oliphant1.getName();

            // --> Waste of memory space
            // --> Everytime a function is created, the engine automatically places a prototype
            Elephant.prototype.age = 35;

            console.log(oliphant1.age);

            // CLASSES

            // 1. constructor function - Define the object // explicitly use the prototype

            function Weed(name) {
                this.name = name;
            }

            Weed.prototype.greeting = function () {
                console.log(this.name);
            };

            // 2. instantiate -- call the object
            let weed1 = new Weed('Sour Diesel');
            weed1.greeting();

            // class syntax -- same object -- any method you declare, will be automatically attach to the prototype

            class Weedo {
                constructor(name) {
                    // Using the constructor method
                    this.name = name;
                }
                greeting() {
                    console.log(this.name);
                }
            }

            let strain = new Weedo('Alabama Kush');
            strain.greeting();

            // JS a class is a kind of a function, and it puts the methods we create
            // into the prototype property

            console.log(typeof Weedo);

            console.log(
                Weedo === Weedo.prototype.constructor
            ); // --> returns true

            console.log(
                Object.getOwnPropertyNames(Weedo.prototype)
            ); // 2 Methods with the proto

            // An object can be passed by reference from one function to another

            function changeName(user) {
                user.fname = 'John Doe';
            }

            // create a person

            let man = {
                fname: 'Serge',
            };

            changeName(man);

            // ECMA defines all objects as dictionaries
            // Writable(can be reassigned), Enumerable(can be seen in a for-in loop), Configurable (can be deleted)
            // [[]] --> double square brackets --> properties that aren't directly exposed
            // accessible via Object.getOwnPropertyDescriptor

            let obj = {
                x: 10,
            };

            Object.getOwnPropertyDescriptor(obj, 'x');
        </script>
    </body>
</html>
